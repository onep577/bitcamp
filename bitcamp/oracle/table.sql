-- 테이블
-- CREATE, ALTER, DROP : 생성, 수정, 삭제
-- INSERT, DELETE, SELECT, UPDATE : 데이터의 추가, 삭제, 검색, 수정




-- 테이블 스페이스 생성
-- system 계정으로 생성
CREATE TABLESPACE TABLESPACE2
DATAFILE 'E:\tablespace1\TEST_TBS1_01.DBF' SIZE 10M
AUTOEXTEND ON NEXT 1M MAXSIZE UNLIMITED -- 추가되는 용량
LOGGING
EXTENT MANAGEMENT LOCAL AUTOALLOCATE
BLOCKSIZE 8K
SEGMENT SPACE MANAGEMENT AUTO
FLASHBACK ON;

-- 테이블 스페이스 수정
ALTER TABLESPACE TABLESPACE2
RENAME TO TEST_TBS_NEW;

ALTER DATABASE
DATAFILE 'E:\tablespace1\TEST_TBS1_01.DBF' RESIZE 7M;

-- 테이블 스페이스 삭제
DROP TABLESPACE TEST_TBS_NEW
iNCLUDING CONTENTS AND DATAFILES
CASCADE CONSTRAINTS; -- 제약 조건까지 지워라







-- 테이블 생성
DROP TABLE TB_TEST01;

CREATE TABLE TB_TEST01(
    COL_01 VARCHAR2(10),
    COL_02 VARCHAR2(10),
    COL_03 VARCHAR2(10),
    COL_04 VARCHAR2(10)
)

CREATE TABLE TB_TEST02(
    COL_01 VARCHAR2(10),
    COL_02 VARCHAR2(10),
    COL_03 VARCHAR2(10),
    COL_04 VARCHAR2(10)
)
TABLESPACE TABLESPACE2;






-- 복제를 참 많이 한다 왜? 데이터를 수정, 삭제하는 것이 위험한 작업이기 때문이다
-- 테이블 복제 : 데이터 포함
CREATE TABLE TB_TEST03
AS
SELECT *
FROM jobs;

SELECT * FROM TB_TEST03;

-- 테이블 복제 : 데이터 미포함
CREATE TABLE TB_TEST04
AS
SELECT *
FROM jobs
WHERE 1=2;

SELECT * FROM TB_TEST04;
-- 비정상적인 조건문(1=2) 이 있으면 테이블 복제는 된다고 하지만 데이터는 못 가져온다





-- 테이블 수정 : 테이블명 변경
ALTER TABLE TB_TEST04
RENAME
TO TB_TEST99;




-- 단일 컬럼 추가
ALTER TABLE TB_TEST99
ADD
COL_01 VARCHAR2(30);

SELECT * FROM TB_TEST99;

-- 다중 컬럼 추가
ALTER TABLE TB_TEST99
ADD
(COL_02 VARCHAR2(20), COL_03 NUMBER(10));

SELECT * FROM TB_TEST99;






-- 단일 컬럼 수정
ALTER TABLE TB_TEST99
MODIFY
COL_01 VARCHAR2(20);

-- 다중 컬럼 수정
ALTER TABLE TB_TEST99
MODIFY
(COL_02 VARCHAR2(10), COL_03 NUMBER(5,2) );

SELECT * FROM TB_TEST99;




-- 단일 컬럼 삭제
ALTER TABLE TB_TEST99
DROP
COLUMN COL_01;
-- 다중 컬럼 삭제
ALTER TABLE TB_TEST99
DROP
(COL_02, COL_03);

SELECT * FROM TB_TEST99;





-- 컬럼명 수정
ALTER TABLE TB_TEST99
RENAME
COLUMN job_id TO my_job;

-- 테이블 삭제
DROP TABLE TB_TEST99;

-- 휴지통 비우기
-- 테이블을 삭제 했을 때 휴지통을 보면 남아있을 가능성이 있다
PURGE RECYCLEBIN;








