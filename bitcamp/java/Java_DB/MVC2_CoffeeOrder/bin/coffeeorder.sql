DROP TABLE COFFEEORDER
CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_COFFEEORDER;

CREATE TABLE COFFEEORDER(
	SEQ NUMBER(8) PRIMARY KEY,
	-- +되서 증가되기 때문에 중복 안되고 NULL이 있을 수 없다
	CUS VARCHAR2(20) NOT NULL,
	-- 이 테이블에선 외래키이다 어디에 있나? CUSTOMER 테이블에

	COFFEE_TYPE VARCHAR2(40) NOT NULL,
	COFFEE_SIZE VARCHAR2(40) NOT NULL,
	COFFEE_SYRUP VARCHAR2(40),
	
	COFFEE_SHOT VARCHAR2(20),
	COFFEE_WHIP VARCHAR2(20),
	COFFEE_NUMBER NUMBER(8) NOT NULL,
	COFFEE_TOTALPRICE NUMBER(10) NOT NULL,
	
	WDATE DATE NOT NULL
);

CREATE SEQUENCE SEQ_COFFEEORDER
START WITH 1
INCREMENT BY 1;

ALTER TABLE COFFEEORDER
ADD CONSTRAINT FK_COFFEEORDER_CUS FOREIGN KEY(CUS)
-- 여기서 CUS는 COFFEEORDER 테이블
REFERENCES CUSTOMER(ID);
-- 여기서 ID는 CUSTOMER 테이블

ALTER TABLE COFFEEORDER
ADD CONSTRAINT FK_COFFEEORDER_COFFEE_TYPE FOREIGN KEY(COFFEE_TYPE)
-- 여기서 COFFEE_TYPE은 COFFEEORDER 테이블
REFERENCES COFFEEPRICE(COFF_TYPE);
-- 여기서 COFF_TYPE은 COFFEEPRICE 테이블

--TEST_SEQ.NEXTVAL
--		.CURRENT

SELECT * FROM COFFEEORDER;





